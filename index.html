<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="format-detection" content="telephone=no">
    <title>Muskelinnervation Tabellen - Neurologie Referenz</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #1a202c;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            overflow: hidden;
            backdrop-filter: blur(20px);
        }

        header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 60px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 100" fill="rgba(255,255,255,0.1)"><polygon points="0,0 1000,100 1000,0"/></svg>');
            background-size: cover;
        }

        h1 {
            font-size: 3.5em;
            margin-bottom: 15px;
            font-weight: 700;
            position: relative;
            z-index: 1;
            background: linear-gradient(45deg, #fff, #e2e8f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 1.3em;
            opacity: 0.95;
            position: relative;
            z-index: 1;
            font-weight: 400;
        }

        .navigation {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid #e2e8f0;
        }

        .nav-button {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            margin: 0 15px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        .nav-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .nav-button:hover::before {
            left: 100%;
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.25);
        }

        .nav-button.active {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(239, 68, 68, 0.4);
        }

        .content {
            padding: 40px;
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        }

        .table-section {
            margin-bottom: 50px;
        }

        .section-title {
            font-size: 2.5em;
            color: #1e293b;
            margin-bottom: 30px;
            padding-bottom: 15px;
            /* border-bottom: 4px solid transparent;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            border-image: linear-gradient(135deg, #3b82f6, #1d4ed8) 1; */
            font-weight: 700;
            position: relative;
        }

        /* .section-title::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 80px;
            height: 4px;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            border-radius: 2px;
        } */

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 40px;
            background-color: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            backdrop-filter: blur(10px);
        }

        th {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            color: white;
            padding: 20px;
            text-align: left;
            font-weight: 600;
            font-size: 1.1em;
            position: relative;
        }

        /* th::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, #3b82f6, #1d4ed8);
        } */

        td {
            padding: 18px 20px;
            border-bottom: 1px solid #e2e8f0;
            transition: all 0.2s ease;
        }

        tr:nth-child(even) {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        }

        tr:hover {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            transform: scale(1.01);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .region-header {
            background: linear-gradient(135deg, #374151 0%, #111827 100%) !important;
            color: white;
            font-weight: 700;
            font-size: 1.2em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .region-header:hover {
            background: linear-gradient(135deg, #374151 0%, #111827 100%) !important;
            transform: none;
        }

        .spinal-roots {
            font-family: 'JetBrains Mono', 'Courier New', monospace;
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            padding: 8px 12px;
            border-radius: 8px;
            font-weight: 700;
            color: #1e40af;
            border: 2px solid #93c5fd;
        }

        .nerve-name {
            font-style: italic;
            color: #7c3aed;
            font-weight: 600;
            background: linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%);
            padding: 4px 8px;
            border-radius: 6px;
        }

        .muscle-name {
            font-weight: 700;
            color: #1e293b;
            font-size: 1.05em;
        }

        .search-container {
            position: relative;
            margin-bottom: 30px;
        }

        .search-box {
            padding: 18px 24px 18px 50px;
            width: 100%;
            border: 3px solid #e2e8f0;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s ease;
            background: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .search-box:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
            transform: translateY(-1px);
        }

        .search-icon {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: #6b7280;
            font-size: 20px;
        }

        .hidden {
            display: none;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            padding: 20px;
            border-radius: 16px;
            text-align: center;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            border: 1px solid #e2e8f0;
        }

        .stat-number {
            font-size: 2em;
            font-weight: 700;
            color: #3b82f6;
        }

        .stat-label {
            color: #6b7280;
            font-weight: 500;
            margin-top: 5px;
        }

        /* Tablet and medium screen optimizations */
        @media (min-width: 769px) and (max-width: 1024px) {
            .container {
                margin: 10px;
                border-radius: 18px;
            }

            header {
                padding: 40px 20px;
            }

            h1 {
                font-size: 2.8em;
            }

            .subtitle {
                font-size: 1.2em;
            }

            .content {
                padding: 30px;
            }

            .section-title {
                font-size: 2.2em;
                margin-bottom: 25px;
            }

            /* Tablet table styling - use desktop layout but smaller */
            table {
                font-size: 14px;
                border-collapse: collapse;
                display: table;
                overflow: visible;
                box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            }

            thead, tbody, th, td, tr {
                display: table-row-group;
            }

            thead tr {
                display: table-row;
                position: static;
            }

            th {
                display: table-cell;
                padding: 16px 18px;
                font-size: 1em;
                background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
                color: white;
                text-align: left;
            }

            td {
                display: table-cell;
                padding: 14px 18px;
                border-bottom: 1px solid #e2e8f0;
                vertical-align: top;
            }

            tr {
                display: table-row;
                border: none;
                margin: 0;
                padding: 0;
                background: transparent;
                box-shadow: none;
            }

            tr:nth-child(even) {
                background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            }

            tr:hover {
                background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
                transform: scale(1.01);
                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            }

            tr.region-header {
                background: linear-gradient(135deg, #374151 0%, #111827 100%) !important;
                color: white;
                font-weight: 700;
                font-size: 1.1em;
                text-transform: uppercase;
                letter-spacing: 1px;
            }

            tr.region-header:hover {
                background: linear-gradient(135deg, #374151 0%, #111827 100%) !important;
                transform: none;
            }

            td:before {
                display: none;
            }

            .muscle-name {
                font-size: 1em;
                font-weight: 700;
                color: #1e293b;
            }

            .nerve-name {
                font-size: 13px;
                padding: 3px 7px;
                background: linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%);
                border-radius: 6px;
                color: #7c3aed;
                font-style: italic;
                font-weight: 600;
            }

            .spinal-roots {
                font-size: 13px;
                padding: 7px 10px;
                background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
                border: 2px solid #93c5fd;
                border-radius: 8px;
                font-family: 'JetBrains Mono', 'Courier New', monospace;
                font-weight: 700;
                color: #1e40af;
            }

            .nav-button {
                padding: 12px 24px;
                margin: 0 10px;
                font-size: 15px;
            }

            .search-box {
                padding: 16px 22px 16px 48px;
                font-size: 15px;
            }

            .stats-container {
                grid-template-columns: repeat(3, 1fr);
                gap: 15px;
            }

            .stat-number {
                font-size: 1.8em;
            }
        }

        /* iPad and large tablet specific optimizations */
        @media (min-width: 768px) and (max-width: 1024px) and (orientation: landscape),
               (min-width: 768px) and (max-width: 834px) and (orientation: portrait) {
            
            .navigation {
                padding: 20px 15px;
            }

            .nav-button {
                padding: 16px 28px;
                margin: 0 10px;
                font-size: 16px;
                min-height: 48px;
                touch-action: manipulation;
                -webkit-tap-highlight-color: transparent;
                cursor: pointer;
                transition: all 0.2s ease;
                border-radius: 50px;
                position: relative;
                overflow: hidden;
                /* Force hardware acceleration for better touch response */
                -webkit-transform: translateZ(0);
                transform: translateZ(0);
                /* Improve iPad touch response */
                -webkit-user-select: none;
                user-select: none;
            }

            .nav-button:hover {
                transform: translateY(-1px) translateZ(0);
                box-shadow: 0 8px 20px -5px rgba(0, 0, 0, 0.2);
            }

            .nav-button:active {
                transform: scale(0.96) translateZ(0);
                transition: transform 0.1s ease;
            }

            /* iPad-specific button states */
            .nav-button:focus {
                outline: none;
                box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
            }

            .search-box {
                padding: 18px 26px 18px 52px;
                font-size: 16px;
                touch-action: manipulation;
                -webkit-tap-highlight-color: transparent;
                border-radius: 50px;
                min-height: 48px;
                box-sizing: border-box;
                /* Improve iPad interaction */
                -webkit-user-select: text;
                user-select: text;
                cursor: text;
                /* Force hardware acceleration */
                -webkit-transform: translateZ(0);
                transform: translateZ(0);
            }

            .search-box:focus {
                border-color: #3b82f6;
                box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.2);
                outline: none;
                transform: translateY(-1px) translateZ(0);
            }

            /* Ensure table displays properly on iPad */
            table {
                width: 100%;
                border-collapse: collapse;
                display: table !important;
                overflow: visible;
                background-color: white;
                border-radius: 16px;
                box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
                font-size: 15px;
            }

            thead, tbody {
                display: table-header-group;
            }

            tbody {
                display: table-row-group;
            }

            tr {
                display: table-row !important;
                border: none !important;
                margin: 0 !important;
                padding: 0 !important;
                background: transparent !important;
                box-shadow: none !important;
                border-radius: 0 !important;
            }

            th, td {
                display: table-cell !important;
                border: none;
                vertical-align: top;
            }

            th {
                background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
                color: white;
                padding: 20px 22px;
                text-align: left;
                font-weight: 600;
                font-size: 1.1em;
            }

            td {
                padding: 18px 22px;
                border-bottom: 1px solid #e2e8f0;
                font-size: 15px;
            }

            td:before {
                display: none !important;
            }

            .region-header {
                background: linear-gradient(135deg, #374151 0%, #111827 100%) !important;
                color: white;
                font-weight: 700;
                font-size: 1.2em;
                text-transform: uppercase;
                letter-spacing: 1px;
            }

            .muscle-name {
                font-size: 16px;
                font-weight: 700;
                color: #1e293b;
            }

            .nerve-name {
                font-size: 14px;
                padding: 5px 9px;
                background: linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%);
                border-radius: 6px;
                color: #7c3aed;
                font-style: italic;
                font-weight: 600;
            }

            .spinal-roots {
                font-size: 14px;
                padding: 7px 11px;
                background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
                border: 2px solid #93c5fd;
                border-radius: 8px;
                font-family: 'JetBrains Mono', 'Courier New', monospace;
                font-weight: 700;
                color: #1e40af;
            }

            /* Better hover states for iPad */
            tr:hover {
                background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
                transform: none;
                box-shadow: none;
            }

            tr.region-header:hover {
                background: linear-gradient(135deg, #374151 0%, #111827 100%) !important;
                transform: none;
            }

            /* Improved stats display for iPad */
            .stats-container {
                grid-template-columns: repeat(3, 1fr);
                gap: 18px;
                margin-bottom: 25px;
            }

            .stat-card {
                padding: 18px 15px;
                border-radius: 14px;
            }

            .stat-number {
                font-size: 1.9em;
            }

            .stat-label {
                font-size: 13px;
            }

            /* No results message styling for iPad */
            .no-results-message {
                font-size: 1.6em !important;
                padding: 70px 30px !important;
                margin: 50px 0 !important;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .container {
                margin: 0;
                border-radius: 16px;
                min-height: 100vh;
            }

            header {
                padding: 30px 15px;
            }

            h1 {
                font-size: 2.2em;
                line-height: 1.2;
            }

            .subtitle {
                font-size: 1.1em;
            }

            .navigation {
                padding: 15px 10px;
            }

            .nav-button {
                margin: 3px;
                padding: 12px 18px;
                font-size: 14px;
                min-width: 110px;
                min-height: 48px;
                border-radius: 25px;
                position: relative;
                overflow: hidden;
                cursor: pointer;
                -webkit-user-select: none;
                user-select: none;
                -webkit-tap-highlight-color: transparent;
                touch-action: manipulation;
            }

            .nav-button:active {
                transform: scale(0.98);
            }

            .content {
                padding: 15px;
            }

            .search-container {
                margin-bottom: 20px;
            }

            .search-box {
                padding: 16px 22px 16px 48px;
                font-size: 16px;
                border-radius: 25px;
                border: 2px solid #e2e8f0;
                -webkit-appearance: none;
                appearance: none;
                -webkit-tap-highlight-color: transparent;
                touch-action: manipulation;
                width: 100%;
                box-sizing: border-box;
            }

            .search-box:focus {
                border-color: #3b82f6;
                box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
                outline: none;
            }

            .stats-container {
                grid-template-columns: repeat(3, 1fr);
                gap: 10px;
                margin-bottom: 20px;
            }

            .stat-card {
                padding: 15px 10px;
            }

            .stat-number {
                font-size: 1.5em;
            }

            .stat-label {
                font-size: 12px;
            }

            .section-title {
                font-size: 1.8em;
                margin-bottom: 20px;
            }

            /* Mobile table styling */
            table {
                border-radius: 12px;
                display: block;
                overflow: visible;
                box-shadow: none;
            }

            thead, tbody, th, td, tr {
                display: block;
            }

            thead tr {
                position: absolute;
                top: -9999px;
                left: -9999px;
            }

            tbody {
                display: block;
            }

            tr {
                border: 2px solid #e2e8f0;
                margin-bottom: 16px;
                border-radius: 12px;
                background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
                box-shadow: 0 4px 12px rgba(0,0,0,0.1);
                padding: 20px;
                position: relative;
                overflow: hidden;
            }

            tr:hover {
                transform: none;
                box-shadow: 0 6px 20px rgba(0,0,0,0.15);
                border-color: #3b82f6;
            }

            tr.region-header {
                background: linear-gradient(135deg, #1e293b 0%, #334155 100%) !important;
                color: white;
                text-align: center;
                font-weight: 700;
                font-size: 16px;
                padding: 18px;
                margin-bottom: 20px;
                border: none;
                box-shadow: 0 4px 12px rgba(30, 41, 59, 0.3);
            }

            tr.region-header:hover {
                transform: none;
                background: linear-gradient(135deg, #1e293b 0%, #334155 100%) !important;
            }

            td {
                border: none;
                border-bottom: 1px solid #e2e8f0;
                position: relative;
                padding: 12px 0;
                text-align: left;
                word-wrap: break-word;
                word-break: break-word;
                hyphens: auto;
                display: flex;
                flex-direction: column;
                gap: 4px;
            }

            td:before {
                content: attr(data-label);
                font-weight: 700;
                color: #1e293b;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                margin-bottom: 4px;
            }

            td:last-child {
                border-bottom: 0;
                padding-bottom: 0;
            }

            .muscle-name {
                font-size: 16px;
                font-weight: 700;
                color: #1e293b;
                line-height: 1.3;
            }

            .nerve-name {
                font-size: 13px;
                padding: 6px 10px;
                background: linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%);
                border: 1px solid #c4b5fd;
                border-radius: 8px;
                display: inline-block;
                margin-top: 4px;
            }

            .spinal-roots {
                font-size: 13px;
                padding: 8px 12px;
                background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
                border: 2px solid #93c5fd;
                border-radius: 10px;
                font-family: 'JetBrains Mono', 'Courier New', monospace;
                font-weight: 700;
                color: #1e40af;
                display: inline-block;
                margin-top: 4px;
            }

            /* Function text styling */
            td:nth-child(2) {
                font-size: 14px;
                line-height: 1.4;
                color: #374151;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 5px;
            }

            h1 {
                font-size: 1.8em;
                line-height: 1.1;
            }

            .subtitle {
                font-size: 1em;
            }

            .navigation {
                padding: 12px 8px;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 8px;
            }

            .nav-button {
                display: block;
                margin: 4px 0;
                width: 100%;
                max-width: 280px;
                min-height: 50px;
                font-size: 15px;
                padding: 14px 20px;
            }

            .content {
                padding: 12px;
            }

            .stats-container {
                grid-template-columns: 1fr;
                gap: 10px;
                margin-bottom: 15px;
            }

            .stat-card {
                padding: 16px 12px;
            }

            .search-box {
                padding: 14px 20px 14px 42px;
                font-size: 16px;
            }

            .search-icon {
                left: 16px;
                font-size: 18px;
            }

            .section-title {
                font-size: 1.6em;
                margin-bottom: 16px;
            }

            /* Enhanced mobile table styling for small screens */
            tr {
                margin-bottom: 14px;
                padding: 16px;
                border-radius: 10px;
            }

            tr.region-header {
                font-size: 15px;
                padding: 16px;
                margin-bottom: 18px;
            }

            td {
                padding: 10px 0;
            }

            td:before {
                font-size: 11px;
                margin-bottom: 3px;
            }

            .muscle-name {
                font-size: 15px;
                line-height: 1.2;
            }

            .nerve-name {
                font-size: 12px;
                padding: 5px 8px;
                margin-top: 3px;
            }

            .spinal-roots {
                font-size: 12px;
                padding: 6px 10px;
                margin-top: 3px;
            }

            /* Function text for small screens */
            td:nth-child(2) {
                font-size: 13px;
                line-height: 1.3;
            }
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            border-radius: 6px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #1d4ed8, #1e40af);
        }

        /* Animation for no results message */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Muskelinnervation Referenztabellen</h1>
            <p class="subtitle">Umfassender Leitfaden zur peripheren Nerven- und Spinalwurzel-Innervation</p>
        </header>

        <div class="navigation">
            <button class="nav-button active" data-section="upper">Obere Extremit&auml;t</button>
            <button class="nav-button" data-section="lower">Untere Extremit&auml;t</button>
            <button class="nav-button" data-section="all">Alle Tabellen</button>
        </div>

        <div class="content">
            <div class="search-container">
                <div class="search-icon">🔍</div>
                <input type="text" class="search-box" placeholder="Suche nach Muskeln, Nerven oder Spinalwurzeln..." id="search-input">
            </div>

            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-number" id="muscle-count">-</div>
                    <div class="stat-label">Muskeln</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="nerve-count">-</div>
                    <div class="stat-label">Periphere Nerven</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="root-count">-</div>
                    <div class="stat-label">Spinalwurzeln</div>
                </div>
            </div>

            <div id="upper-section" class="table-section">
                <h2 class="section-title">Obere Extremit&auml;t Innervation</h2>
                <table id="upper-table">
                    <thead>
                        <tr>
                            <th>Muskel</th>
                            <th>Funktion</th>
                            <th>Peripherer Nerv</th>
                            <th>Spinale Wurzeln</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="region-header">
                            <td colspan="4">Schulter &amp; Schulterg&uuml;rtel</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. deltoideus</td>
                            <td>Abduktion, Anteversion, Retroversion, Rotation des Arms</td>
                            <td class="nerve-name">N. axillaris</td>
                            <td class="spinal-roots">C5, C6</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. teres major</td>
                            <td>Adduktion, Innenrotation, Retroversion des Arms</td>
                            <td class="nerve-name">N. subscapularis inferior</td>
                            <td class="spinal-roots">C5, C6</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. teres minor</td>
                            <td>Außenrotation, Adduktion des Arms</td>
                            <td class="nerve-name">N. axillaris</td>
                            <td class="spinal-roots">C5, C6</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. supraspinatus</td>
                            <td>Initiiert die Abduktion des Arms</td>
                            <td class="nerve-name">N. suprascapularis</td>
                            <td class="spinal-roots">C5, C6</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. infraspinatus</td>
                            <td>Außenrotation des Arms</td>
                            <td class="nerve-name">N. suprascapularis</td>
                            <td class="spinal-roots">C5, C6</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. subscapularis</td>
                            <td>Innenrotation des Arms</td>
                            <td class="nerve-name">Nn. subscapulares sup. et inf.</td>
                            <td class="spinal-roots">C5, C6</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. pectoralis major</td>
                            <td>Adduktion, Innenrotation, Anteversion des Arms</td>
                            <td class="nerve-name">Nn. pectorales med. et lat.</td>
                            <td class="spinal-roots">C5, C6, C7, C8, T1</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. pectoralis minor</td>
                            <td>Senkung des Schulterblatts, Atemhilfsmuskel</td>
                            <td class="nerve-name">N. pectoralis medialis</td>
                            <td class="spinal-roots">C8, T1</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. serratus anterior</td>
                            <td>Protraktion und Fixierung des Schulterblatts am Thorax</td>
                            <td class="nerve-name">N. thoracicus longus</td>
                            <td class="spinal-roots">C5, C6, C7</td>
                        </tr>
                        <tr class="region-header">
                            <td colspan="4">Oberarm: Vorderes Kompartiment (Flexoren)</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. biceps brachii</td>
                            <td>Flexion im Ellbogen, Supination des Unterarms, Armflexion</td>
                            <td class="nerve-name">N. musculocutaneus</td>
                            <td class="spinal-roots">C5, C6</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. brachialis</td>
                            <td>Starke Flexion im Ellbogen</td>
                            <td class="nerve-name">N. musculocutaneus & N. radialis</td>
                            <td class="spinal-roots">C5, C6, C7</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. coracobrachialis</td>
                            <td>Adduktion und Anteversion des Arms</td>
                            <td class="nerve-name">N. musculocutaneus</td>
                            <td class="spinal-roots">C5, C6, C7</td>
                        </tr>
                        <tr class="region-header">
                            <td colspan="4">Oberarm: Hinteres Kompartiment (Extensoren)</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. triceps brachii</td>
                            <td>Extension im Ellbogen, Retroversion des Arms</td>
                            <td class="nerve-name">N. radialis</td>
                            <td class="spinal-roots">C6, C7, C8</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. anconeus</td>
                            <td>Hilft bei der Extension im Ellbogen</td>
                            <td class="nerve-name">N. radialis</td>
                            <td class="spinal-roots">C7, C8, T1</td>
                        </tr>
                        <tr class="region-header">
                            <td colspan="4">Unterarm: Vorderes Kompartiment (Flexoren/Pronatoren)</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. pronator teres</td>
                            <td>Pronation des Unterarms, schwache Ellbogenflexion</td>
                            <td class="nerve-name">N. medianus</td>
                            <td class="spinal-roots">C6, C7</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. flexor carpi radialis</td>
                            <td>Palmarflexion, Radialabduktion im Handgelenk</td>
                            <td class="nerve-name">N. medianus</td>
                            <td class="spinal-roots">C6, C7</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. palmaris longus</td>
                            <td>Schwache Palmarflexion, spannt Palmaraponeurose</td>
                            <td class="nerve-name">N. medianus</td>
                            <td class="spinal-roots">C7, C8</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. flexor carpi ulnaris</td>
                            <td>Palmarflexion, Ulnarabduktion im Handgelenk</td>
                            <td class="nerve-name">N. ulnaris</td>
                            <td class="spinal-roots">C7, C8, T1</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. flexor digitorum superficialis</td>
                            <td>Flexion der Finger (Grund- & Mittelgelenke)</td>
                            <td class="nerve-name">N. medianus</td>
                            <td class="spinal-roots">C8, T1</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. flexor digitorum profundus</td>
                            <td>Flexion der Finger (alle Gelenke, inkl. Endgelenke)</td>
                            <td class="nerve-name">N. medianus & N. ulnaris</td>
                            <td class="spinal-roots">C8, T1</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. flexor pollicis longus</td>
                            <td>Flexion des Daumens</td>
                            <td class="nerve-name">N. medianus (N. interosseus ant.)</td>
                            <td class="spinal-roots">C8, T1</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. pronator quadratus</td>
                            <td>Pronation des Unterarms</td>
                            <td class="nerve-name">N. medianus (N. interosseus ant.)</td>
                            <td class="spinal-roots">C8, T1</td>
                        </tr>
                        <tr class="region-header">
                            <td colspan="4">Unterarm: Hinteres Kompartiment (Extensoren/Supinatoren)</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. brachioradialis</td>
                            <td>Flexion im Ellbogen (in Neutralstellung des Unterarms)</td>
                            <td class="nerve-name">N. radialis</td>
                            <td class="spinal-roots">C5, C6, C7</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. extensor carpi radialis longus</td>
                            <td>Dorsalextension, Radialabduktion im Handgelenk</td>
                            <td class="nerve-name">N. radialis</td>
                            <td class="spinal-roots">C6, C7</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. extensor carpi radialis brevis</td>
                            <td>Dorsalextension, Radialabduktion im Handgelenk</td>
                            <td class="nerve-name">N. radialis (Ramus profundus)</td>
                            <td class="spinal-roots">C7, C8</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. extensor digitorum</td>
                            <td>Extension der Finger 2-5</td>
                            <td class="nerve-name">N. radialis (N. interosseus post.)</td>
                            <td class="spinal-roots">C7, C8</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. extensor digiti minimi</td>
                            <td>Extension des kleinen Fingers</td>
                            <td class="nerve-name">N. radialis (N. interosseus post.)</td>
                            <td class="spinal-roots">C7, C8</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. extensor carpi ulnaris</td>
                            <td>Dorsalextension, Ulnarabduktion im Handgelenk</td>
                            <td class="nerve-name">N. radialis (N. interosseus post.)</td>
                            <td class="spinal-roots">C7, C8</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. supinator</td>
                            <td>Supination des Unterarms</td>
                            <td class="nerve-name">N. radialis (Ramus profundus)</td>
                            <td class="spinal-roots">C6, C7</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. abductor pollicis longus</td>
                            <td>Abduktion des Daumens</td>
                            <td class="nerve-name">N. radialis (N. interosseus post.)</td>
                            <td class="spinal-roots">C7, C8</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. extensor pollicis brevis</td>
                            <td>Extension des Daumens (Grund- & Sattelgelenk)</td>
                            <td class="nerve-name">N. radialis (N. interosseus post.)</td>
                            <td class="spinal-roots">C7, C8</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. extensor pollicis longus</td>
                            <td>Extension des Daumens (Endgelenk)</td>
                            <td class="nerve-name">N. radialis (N. interosseus post.)</td>
                            <td class="spinal-roots">C7, C8</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. extensor indicis</td>
                            <td>Extension des Zeigefingers</td>
                            <td class="nerve-name">N. radialis (N. interosseus post.)</td>
                            <td class="spinal-roots">C7, C8</td>
                        </tr>
                        <tr class="region-header">
                            <td colspan="4">Hand: Intrinsische Muskeln</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">Mm. thenares (Daumenballen)</td>
                            <td>Opposition, Abduktion, Flexion des Daumens</td>
                            <td class="nerve-name">N. medianus (meistens)</td>
                            <td class="spinal-roots">C8, T1</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. adductor pollicis</td>
                            <td>Adduktion des Daumens</td>
                            <td class="nerve-name">N. ulnaris (Ramus profundus)</td>
                            <td class="spinal-roots">C8, T1</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">Mm. hypothenares (Kleinfingerballen)</td>
                            <td>Bewegung des kleinen Fingers (Opposition, Abduktion, Flexion)</td>
                            <td class="nerve-name">N. ulnaris (Ramus profundus)</td>
                            <td class="spinal-roots">C8, T1</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">Mm. lumbricales & interossei</td>
                            <td>Feinmotorik der Finger (Spreizen, Schließen, Beugen)</td>
                            <td class="nerve-name">N. medianus & N. ulnaris</td>
                            <td class="spinal-roots">C8, T1</td>
                        </tr>
                    </tbody>
                </table>
            </div>

                        <div id="lower-section" class="table-section">
                <h2 class="section-title">Untere Extremit&auml;t Innervation</h2>
                <table id="lower-table">
                    <thead>
                        <tr>
                            <th>Muskel</th>
                            <th>Funktion</th>
                            <th>Peripherer Nerv</th>
                            <th>Spinale Wurzeln</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="region-header">
                            <td colspan="4">Ges&auml;&szlig;region</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. gluteus maximus</td>
                            <td>Extension und Außenrotation im Hüftgelenk</td>
                            <td class="nerve-name">N. gluteus inferior</td>
                            <td class="spinal-roots">L5, S1, S2</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. gluteus medius</td>
                            <td>Abduktion und Innenrotation im Hüftgelenk</td>
                            <td class="nerve-name">N. gluteus superior</td>
                            <td class="spinal-roots">L4, L5, S1</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. gluteus minimus</td>
                            <td>Abduktion und Innenrotation im Hüftgelenk</td>
                            <td class="nerve-name">N. gluteus superior</td>
                            <td class="spinal-roots">L4, L5, S1</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. tensor fasciae latae</td>
                            <td>Hüftflexion, Abduktion; stabilisiert Knie</td>
                            <td class="nerve-name">N. gluteus superior</td>
                            <td class="spinal-roots">L4, L5, S1</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">Tiefe Gesäßmuskeln (z.B. M. piriformis)</td>
                            <td>Außenrotation im Hüftgelenk</td>
                            <td class="nerve-name">Nn. für tiefe Gesäßmuskeln</td>
                            <td class="spinal-roots">L5, S1, S2</td>
                        </tr>
                        <tr class="region-header">
                            <td colspan="4">Oberschenkel: Vorderes Kompartiment (Extensoren)</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. quadriceps femoris</td>
                            <td>Extension im Kniegelenk; Hüftflexion (nur Rectus femoris)</td>
                            <td class="nerve-name">N. femoralis</td>
                            <td class="spinal-roots">L2, L3, L4</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. sartorius</td>
                            <td>Flexion, Abduktion, Außenrotation im Hüftgelenk</td>
                            <td class="nerve-name">N. femoralis</td>
                            <td class="spinal-roots">L2, L3</td>
                        </tr>
                        <tr class="region-header">
                            <td colspan="4">Oberschenkel: Mediales Kompartiment (Adduktoren)</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">Adduktorengruppe</td>
                            <td>Adduktion im Hüftgelenk</td>
                            <td class="nerve-name">N. obturatorius</td>
                            <td class="spinal-roots">L2, L3, L4</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. gracilis</td>
                            <td>Adduktion im Hüftgelenk, Flexion im Kniegelenk</td>
                            <td class="nerve-name">N. obturatorius</td>
                            <td class="spinal-roots">L2, L3</td>
                        </tr>
                        <tr class="region-header">
                            <td colspan="4">Oberschenkel: Hinteres Kompartiment (Flexoren)</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">Ischiocrurale Muskulatur</td>
                            <td>Flexion im Kniegelenk, Extension im Hüftgelenk</td>
                            <td class="nerve-name">N. ischiadicus</td>
                            <td class="spinal-roots">L5, S1, S2</td>
                        </tr>
                        <tr class="region-header">
                            <td colspan="4">Unterschenkel: Vorderes Kompartiment (Extensoren)</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. tibialis anterior</td>
                            <td>Dorsalextension und Supination des Fußes</td>
                            <td class="nerve-name">N. fibularis profundus</td>
                            <td class="spinal-roots">L4, L5</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. extensor digitorum longus</td>
                            <td>Extension der Zehen 2-5, Dorsalextension des Fußes</td>
                            <td class="nerve-name">N. fibularis profundus</td>
                            <td class="spinal-roots">L5, S1</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. extensor hallucis longus</td>
                            <td>Extension der Großzehe, Dorsalextension des Fußes</td>
                            <td class="nerve-name">N. fibularis profundus</td>
                            <td class="spinal-roots">L5, S1</td>
                        </tr>
                        <tr class="region-header">
                            <td colspan="4">Unterschenkel: Laterales Kompartiment (Fibularisgruppe)</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. fibularis (peroneus) longus & brevis</td>
                            <td>Plantarflexion und Pronation des Fußes</td>
                            <td class="nerve-name">N. fibularis superficialis</td>
                            <td class="spinal-roots">L5, S1, S2</td>
                        </tr>
                        <tr class="region-header">
                            <td colspan="4">Unterschenkel: Hinteres Kompartiment (Flexoren)</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. gastrocnemius</td>
                            <td>Plantarflexion des Fußes, Flexion im Kniegelenk</td>
                            <td class="nerve-name">N. tibialis</td>
                            <td class="spinal-roots">S1, S2</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. soleus</td>
                            <td>Starke Plantarflexion des Fußes</td>
                            <td class="nerve-name">N. tibialis</td>
                            <td class="spinal-roots">S1, S2</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. tibialis posterior</td>
                            <td>Plantarflexion und Supination des Fußes</td>
                            <td class="nerve-name">N. tibialis</td>
                            <td class="spinal-roots">L4, L5</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. flexor digitorum longus</td>
                            <td>Flexion der Zehen 2-5, Plantarflexion des Fußes</td>
                            <td class="nerve-name">N. tibialis</td>
                            <td class="spinal-roots">S2, S3</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">M. flexor hallucis longus</td>
                            <td>Flexion der Großzehe, Plantarflexion des Fußes</td>
                            <td class="nerve-name">N. tibialis</td>
                            <td class="spinal-roots">S2, S3</td>
                        </tr>
                        <tr class="region-header">
                            <td colspan="4">Fuß: Intrinsische Muskeln</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">Dorsale Fußmuskeln</td>
                            <td>Extension der Zehen</td>
                            <td class="nerve-name">N. fibularis profundus</td>
                            <td class="spinal-roots">L5, S1</td>
                        </tr>
                        <tr>
                            <td class="muscle-name">Plantare Fußmuskeln</td>
                            <td>Spreizen, Schließen, Beugen der Zehen; Verspannung Fußgewölbe</td>
                            <td class="nerve-name">Nn. plantares med. et lat.</td>
                            <td class="spinal-roots">S2, S3</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // Ensure DOM is fully loaded before running scripts
        document.addEventListener('DOMContentLoaded', function() {
            // Add mobile-friendly data labels to table cells
            addMobileDataLabels();
            
            // Initialize navigation buttons with simplified, reliable event handling
            const navButtons = document.querySelectorAll('.nav-button');
            navButtons.forEach(button => {
                // Single, simple click handler that works on all devices
                button.addEventListener('click', function(e) {
                    const section = this.getAttribute('data-section');
                    showSection(section);
                    
                    // Simple visual feedback
                    this.style.backgroundColor = '#ef4444';
                    setTimeout(() => {
                        this.style.backgroundColor = '';
                    }, 150);
                });

                // Basic visual feedback for touch devices
                button.addEventListener('touchstart', function(e) {
                    this.style.transform = 'scale(0.98)';
                }, { passive: true });
                
                button.addEventListener('touchend', function(e) {
                    this.style.transform = 'scale(1)';
                }, { passive: true });
            });
            
            // Initialize search functionality with simplified, reliable handling
            const searchInput = document.getElementById('search-input');
            if (searchInput) {
                // Simple input handler with debouncing
                let searchTimeout;
                searchInput.addEventListener('input', function(e) {
                    clearTimeout(searchTimeout);
                    searchTimeout = setTimeout(searchTables, 200);
                });
                
                // Handle Enter key
                searchInput.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter') {
                        clearTimeout(searchTimeout);
                        searchTables();
                        this.blur(); // Hide mobile keyboard
                    }
                });
            }
            
            // Initialize with upper extremity view
            showSection('upper');
            
            // Add smooth animations
            const tables = document.querySelectorAll('table');
            tables.forEach((table, index) => {
                table.style.animationDelay = `${index * 0.1}s`;
                table.classList.add('fade-in');
            });
        });

        function addMobileDataLabels() {
            const tables = document.querySelectorAll('table');
            tables.forEach(table => {
                const headers = table.querySelectorAll('thead th');
                const headerTexts = Array.from(headers).map(header => header.textContent.trim());
                
                const rows = table.querySelectorAll('tbody tr:not(.region-header)');
                rows.forEach(row => {
                    const cells = row.querySelectorAll('td');
                    cells.forEach((cell, index) => {
                        if (headerTexts[index]) {
                            cell.setAttribute('data-label', headerTexts[index]);
                        }
                    });
                });
            });
        }

        function showSection(section) {
            try {
                // Remove active class from all buttons
                document.querySelectorAll('.nav-button').forEach(btn => {
                    btn.classList.remove('active');
                });

                // Hide all sections
                const upperSection = document.getElementById('upper-section');
                const lowerSection = document.getElementById('lower-section');
                
                if (upperSection) upperSection.classList.remove('hidden');
                if (lowerSection) lowerSection.classList.remove('hidden');

                // Show selected section and activate button
                if (section === 'upper') {
                    if (lowerSection) lowerSection.classList.add('hidden');
                    const upperBtn = document.querySelector('[data-section="upper"]');
                    if (upperBtn) upperBtn.classList.add('active');
                } else if (section === 'lower') {
                    if (upperSection) upperSection.classList.add('hidden');
                    const lowerBtn = document.querySelector('[data-section="lower"]');
                    if (lowerBtn) lowerBtn.classList.add('active');
                } else {
                    const allBtn = document.querySelector('[data-section="all"]');
                    if (allBtn) allBtn.classList.add('active');
                }
                
                // Update stats
                updateStats();
            } catch (error) {
                console.log('Error in showSection:', error);
            }
        }

        function searchTables() {
            try {
                const searchInput = document.getElementById('search-input');
                if (!searchInput) return;
                
                const searchTerm = searchInput.value.toLowerCase().trim();
                
                if (searchTerm === '') {
                    // Show all rows when search is empty
                    document.querySelectorAll('table tbody tr').forEach(row => {
                        row.style.display = '';
                        row.classList.remove('hidden');
                    });
                    
                    document.querySelectorAll('.section-title').forEach(title => {
                        title.style.display = '';
                    });
                    
                    document.querySelectorAll('table').forEach(table => {
                        table.style.display = '';
                    });
                    
                    document.querySelectorAll('.table-section').forEach(section => {
                        section.style.display = '';
                    });
                    
                    // Remove no results message if it exists
                    const noResultsMsg = document.querySelector('.no-results-message');
                    if (noResultsMsg) {
                        noResultsMsg.remove();
                    }
                    
                    // Restore the current view
                    const currentActiveBtn = document.querySelector('.nav-button.active');
                    if (currentActiveBtn) {
                        const section = currentActiveBtn.getAttribute('data-section');
                        showSection(section);
                    }
                    
                    updateStats();
                    return;
                }

                let hasResults = false;
                let upperHasResults = false;
                let lowerHasResults = false;
                let foundTableSection = null;

                // Check upper extremity table
                const upperRows = document.querySelectorAll('#upper-table tbody tr');
                upperRows.forEach(row => {
                    if (row.classList.contains('region-header')) {
                        return;
                    }
                    
                    const text = row.textContent.toLowerCase();
                    if (text.includes(searchTerm)) {
                        upperHasResults = true;
                        hasResults = true;
                        if (!foundTableSection) foundTableSection = 'upper';
                    }
                });

                // Check lower extremity table
                const lowerRows = document.querySelectorAll('#lower-table tbody tr');
                lowerRows.forEach(row => {
                    if (row.classList.contains('region-header')) {
                        return;
                    }
                    
                    const text = row.textContent.toLowerCase();
                    if (text.includes(searchTerm)) {
                        lowerHasResults = true;
                        hasResults = true;
                        if (!foundTableSection) foundTableSection = 'lower';
                    }
                });

                // Remove existing no results message
                const existingNoResultsMsg = document.querySelector('.no-results-message');
                if (existingNoResultsMsg) {
                    existingNoResultsMsg.remove();
                }

                if (hasResults) {
                    // Switch to the appropriate table view if results found
                    if (foundTableSection) {
                        showSection(foundTableSection);
                    }

                    // Filter and show results
                    document.querySelectorAll('table tbody tr').forEach(row => {
                        if (row.classList.contains('region-header')) {
                            row.style.display = '';
                            return;
                        }
                        
                        const text = row.textContent.toLowerCase();
                        if (text.includes(searchTerm)) {
                            row.style.display = '';
                            row.classList.remove('hidden');
                        } else {
                            row.style.display = 'none';
                            row.classList.add('hidden');
                        }
                    });

                    document.querySelectorAll('.section-title').forEach(title => {
                        title.style.display = '';
                    });

                    document.querySelectorAll('table').forEach(table => {
                        table.style.display = '';
                    });
                } else {
                    // No results found - show message instead of empty tables
                    document.querySelectorAll('.section-title').forEach(title => {
                        title.style.display = 'none';
                    });

                    document.querySelectorAll('table').forEach(table => {
                        table.style.display = 'none';
                    });

                    document.querySelectorAll('.table-section').forEach(section => {
                        section.style.display = 'none';
                    });

                    // Create and show "no results" message
                    const content = document.querySelector('.content');
                    const noResultsDiv = document.createElement('div');
                    noResultsDiv.className = 'no-results-message';
                    noResultsDiv.style.cssText = `
                        text-align: center;
                        padding: 60px 20px;
                        margin: 40px 0;
                        background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
                        border-radius: 20px;
                        border: 2px dashed #cbd5e1;
                        color: #64748b;
                        font-size: 1.5em;
                        font-weight: 600;
                        animation: fadeIn 0.3s ease-in-out;
                        display: block;
                    `;
                    noResultsDiv.innerHTML = `
                        <div style="font-size: 3em; margin-bottom: 20px;">🕺</div>
                        <div>Nothing to see here</div>
                        <div style="font-size: 0.8em; margin-top: 15px; font-weight: 400; color: #94a3b8;">
                            Keine Ergebnisse für "${searchTerm}" gefunden
                        </div>
                    `;
                    
                    // Insert after stats container
                    const statsContainer = document.querySelector('.stats-container');
                    if (statsContainer && statsContainer.nextSibling) {
                        content.insertBefore(noResultsDiv, statsContainer.nextSibling);
                    } else {
                        content.appendChild(noResultsDiv);
                    }
                }
                
                // Update stats after search
                updateStats();
            } catch (error) {
                console.log('Error in searchTables:', error);
            }
        }

        function updateStats() {
            try {
                // Count visible muscles (excluding region headers)
                const visibleMuscleRows = document.querySelectorAll('tr:not(.region-header):not([style*="display: none"])');
                const muscleCount = visibleMuscleRows.length;
                
                // Count unique nerves
                const nerves = new Set();
                visibleMuscleRows.forEach(row => {
                    const nerveCell = row.querySelector('.nerve-name');
                    if (nerveCell) {
                        nerves.add(nerveCell.textContent.trim());
                    }
                });
                
                // Count unique spinal roots
                const roots = new Set();
                visibleMuscleRows.forEach(row => {
                    const rootCell = row.querySelector('.spinal-roots');
                    if (rootCell) {
                        const rootText = rootCell.textContent.trim();
                        rootText.split(',').forEach(root => {
                            roots.add(root.trim());
                        });
                    }
                });
                
                // Update the stats display
                const muscleCountEl = document.getElementById('muscle-count');
                const nerveCountEl = document.getElementById('nerve-count');
                const rootCountEl = document.getElementById('root-count');
                
                if (muscleCountEl) muscleCountEl.textContent = muscleCount;
                if (nerveCountEl) nerveCountEl.textContent = nerves.size;
                if (rootCountEl) rootCountEl.textContent = roots.size;
            } catch (error) {
                console.log('Error in updateStats:', error);
            }
        }

        // Add fade-in animation class and mobile enhancements
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(20px); }
                to { opacity: 1; transform: translateY(0); }
            }
            .fade-in {
                animation: fadeIn 0.6s ease-out forwards;
            }
            
            /* Improve touch targets for all devices */
            .nav-button {
                min-height: 44px;
                touch-action: manipulation;
                -webkit-tap-highlight-color: transparent;
                transition: all 0.2s ease;
                cursor: pointer;
            }
            
            .search-box {
                touch-action: manipulation;
                -webkit-tap-highlight-color: transparent;
                cursor: text;
            }
            
            /* Prevent text selection on buttons for better experience */
            .nav-button {
                -webkit-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
            }

            /* Mobile table scroll indicator */
            @media (max-width: 768px) {
                .table-section::after {
                    display: none; /* Remove scroll indicator since we're using cards */
                }
                
                /* Better mobile button spacing */
                .navigation {
                    -webkit-overflow-scrolling: touch;
                }
                
                /* Improved mobile focus */
                .nav-button:focus {
                    outline: 3px solid rgba(59, 130, 246, 0.5);
                    outline-offset: 2px;
                }
                
                .search-box:focus {
                    transform: none;
                    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
                    border-color: #3b82f6;
                }

                /* Enhance card interactivity */
                tr:active {
                    transform: scale(0.98);
                    transition: transform 0.1s ease;
                }
            }

            /* Large screen optimizations */
            @media (min-width: 1025px) {
                .container {
                    max-width: 1400px;
                }

                h1 {
                    font-size: 3.8em;
                }

                .section-title {
                    font-size: 2.8em;
                }

                table {
                    font-size: 15px;
                }

                th {
                    padding: 22px 24px;
                    font-size: 1.15em;
                }

                td {
                    padding: 20px 24px;
                }
            }

            /* Mobile-specific hover states */
            @media (hover: none) {
                tr:hover {
                    transform: none;
                    background: inherit;
                }
                
                .nav-button:hover {
                    transform: none;
                }
                
                .nav-button:hover::before {
                    left: -100%;
                }
            }

            /* Improve mobile typography and interactions */
            @media (max-width: 768px) {
                * {
                    -webkit-font-smoothing: antialiased;
                    -moz-osx-font-smoothing: grayscale;
                }
                
                /* Better mobile table spacing */
                .table-section {
                    margin-bottom: 30px;
                }
                
                /* Improve mobile scrolling */
                .container {
                    -webkit-overflow-scrolling: touch;
                }
                
                /* Better mobile button feedback */
                .nav-button.active {
                    transform: none;
                    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
                }
            }

            /* Prevent zoom on double-tap for iOS */
            @media screen and (max-width: 768px) {
                .nav-button, .search-box {
                    -webkit-touch-callout: none;
                    -webkit-user-select: none;
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
